---
layout: post
title: 正则表达式学习笔记
tags:
- 正则
- Linux
categories: 学习
---
Introducing Regular Expression--学习正则表达式





* content
{:toc}

* 前言
** 正则表达式就是一种工具
*** 这个东西在很多环境中都有用，比如vim、grep、sed等等
** 不懂UNIX的人注定还要重新发明一个蹩脚的UNIX
*** 所以有一句话叫做，“不要重新造轮子“
*** 从零开始学习
*** 正则表达式是一种特殊的字符串模式，用于匹配一组字符串，他最早出现于20世纪40年代。
* 第一章-什么是正则表达式
** 从Regexpal开始
*** 这就是一个网站，用来测试正则表达式的。
*** 通过网上查到的，比如touch {1..9} 这种指令，其实不是正则表达式，这是一种touch命令的语法而已。
** 匹配北美电话号码
*** 直接输入数字，他们够匹配的就是他的本身，这种叫做“字符串字面值”，它能够匹配的东西是固定的。
*** 向比如这个Regexpal这个网站能够匹配的，就会显示出黄色高亮。
** 用字符组来匹配数字
*** 通用的字符匹配方式中：
> [0-9]	就表示从0到9的数字。
*** 正则表达式中酱方括号视为特殊的元字符，因此方括号[]不参与匹配。
*** 元字符是正则表达式中有特殊含义的字符，也是保留字符，[0-9]这种形式的正则表达式称作字符组，有时也叫字符集。
*** 可以给出镜一步限定的方式[012789],这个字符只能用来匹配列出的数字。
*** 要匹配任意10位数的电话号码，可以使用：
> [0-9][0-9][0-9]-[0-9][0-9][0-9]-[0-9][0-9][0-9][0-9]
** 使用字符组简写式
*** 就像上边说的那样，其实\d,这种表达，可以像[0-9]那样匹配任意阿拉伯数字，这种正则表达式叫做字符组简写式，也叫转义字符，但后裔中成为容易造成误解。
*** 刚才提到的电弧号码可以用\d\d\d-\d\d\d-\d\d\d\d,这种表达方式，中间的-连字符是一个字面值，因此会被原样匹配。
*** \D的含义是任意一个非数字的字符，在没有其他连字符干扰的情况下，可以使用\D,来代替连字符-。
** 匹配任意字符
*** 其实还可以用点.，来匹配那些连字符，\d\d\d.\d\d\d.\d\d\d\d,点号是一个通配符，可以匹配任意字符，但是某些情况不能够匹配行起始符，以上实例中的正则表达式其实还可以匹配707%827%7091中的%百分号，也可以匹配竖线|，
** 捕获分组和后向引用
*** 这里我们讲的是捕获分组，来匹配电话号码中的某一部分，然后使用向后引用对分组中的内容进行引用，要创建捕获分组，先将一个\d放在一对圆括号中，这样就将它放进了一个分组中，后面可以用\1对捕获的内容进行引用。
*** (\d)\d\1,这种表达式，就是说，在匹配\d\d的同时，对第一个字符进行了捕获，然后在第三个字符中，引用了。就是表示第一位和第三位是一样的。
** 使用量词
*** 现在使用另一种匹配的方法，\d{3}-?\d{3}-?\d{4}
*** 花括号中的数字表示带查找的数字出现的次数，包含数字的花括号是一种量词，花括号本身做元字符。
*** 问号？是另一种量词，在以上的表达式中表示连字符是可选的，也就是说连字符可以不出现或自出现一次，还有其他量词，比如一个或多个+，任意个*。
*** 这样就多了一个表达的方法：(\d{3,4}[.-]?)+，这个表达式也不完全对，因为它只能匹配3位或者4位的数字而不管是否符合电话号码的格式，所以改进一下：
*** (\d{3}[.-]?){2}\d{4}
*** 理解一下，括号表示分组，\d表示数字，表示有三个数字，后面可能会接一个.或者-的符号，也可能不接，这样的模式在出现一次，然后连接一个四位的数字。
** 括选文字符
*** 最后这个正则白哦大师表示第一个3位数，可以带也可以不带括号，即区号是可选的：
*** ^(\(\d{3}\)|^\d{3}[.-]?)?\d{3}[.-]?\d{4}$
*** 为了便于理解，做如下分析：
**** 出现在正则表达式的起始位置，或者竖线|后面的^，叫做脱字符，表示电话号码会出现在一行的起始位置；
**** 左括号（，为捕获分组的起始符；
**** \( 表示左括号本身；
**** \d表示一位数字；
**** {3}表示紧挨着的\d是三个相连的，即匹配三位数字；
**** \)表示右括号本身；
**** 竖线|表示选择，也就是从多个可选项中选择一个，换句话说，他表示“匹配一个不带括号的区号活着一个带括号的区号”
**** 脱字符表示匹配起始行，注这里需要加上^,是因为，作为|的另一种选择，不同于前面带括号的三位数，只有可能中间的三位数字是数字，两边都是括号。后面这种选择，因为有可能是这样的：-999，这样的格式起始是满足第二种选择的，但是它不符合我们设置正则的要求，所以要要求，假如没有括号，那么数字必须顶格在行首。
* 第二章-简单的模式匹配
* 第三章-边界
* 第四章-选择、分组和向后引用
* 第五章-字符组
* 第六章-匹配unicode和其他字符
* 第七章-量词
* 第八章-环视
* 第九章-用html标记文档
* 第十章-初级班毕业了
