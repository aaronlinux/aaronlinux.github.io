---
layout: post
title: Linux 指令学习笔记
tags:
- 练习
- Linux
- 指令
categories: 学习
---
关于Linux指令的学习笔记




* content
{:toc}
## 第一单元

### 过滤控制字符的指令

> cat file name \| col

### vi

vi 是类*nux系统中最通用的全屏文本编辑器，linux中的vi其实是vim是增强版的vi，他启动的时候会占用整个终端。

vi有两种模式，一个是编辑模式，一个是命令模式，默认的模式是命令模式。

从命令模式切换到编辑模式：

#### 进入vi和模式

> vi 这后面可以添加文件名称

这个时候是命令模式的，从命令模式切换到编辑模式有六种方式，大小写的i、o、a

> i 表示插入，如果是大写I，表示在行首

> a 表示光标后追加，如果是大写的A，表示在行尾

> o 表示另起一行，other的意思，如果是大写O，表示在当前光标所在行的上边插入一行。

按esc键可以回到命令模式，如果不确定在哪种模式，可以多按几次esc。

> esc 
#### 退出和保存


退出vi可以使用冒号命令q

> :q   回车

如果是不保存，强制退出可以使用“！”

> :q!

如果保存退出：

> :w q
> :x

按住shift键，按两下z也可以提示保存后退出。

#### 方向和导航

命令模式下hjkl分别表示左下上右

假如行数特别多，我们可以使用导航命令

> :100	表示跳到第100行

> :$ 表示最后一行 shift + g也可以移动光标到最后一行

#### 复制和黏贴和删除

光标移动到源行，按下两次y键

在新的目标行按下p键，就能粘贴刚才复制的行

如果想选定一定的范围再进行复制可以这样，在源文字的开头按下v，在源文字结束的位置按下y，这样选中段的源文字就被复制到了缓冲区，可以使用p来粘贴了。

删除当前行，双击d键

撤销之前的操作。按一下u，表示undo，就是撤销之前的操作

#### vi的设置

> :set number	设置行号

> :set nonumber	取消行号

> :set nu	设置行号

> :set nonu	取消行号

> :set autoindent	段落自动缩进

如果想看：set命令都能设置哪些内容，我们可以直接

> set	 回车，这样我们就可看到，set可以设置的参数了。

#### vi的配置文件

对于当前用户，可以在用户主目录下的.vimrc,可以编辑这个命令；

对于整个计算机生效的修改可以找到／etc／vimrc 这个文件。

### Emacs

emacs是一个功能非常强大的文本编辑工具，对于初学者来说是比较难以掌握的。

terminal下文件的打开

> emacs 文件名称

退出是ctrl+x  ctrl+c

### colrm 删除字符指令

用来以列为单位删除字符

> colrm 20 50 < ／etc／fastab	读取fastab文件，并以字符为单位，删除每列中第20个字符到50个字符的部分，并下时在屏幕上。

### comm 比较指令

用于比较已排序文件的不同，以行为单位进行比较
如果要比较，必须先用sort对文本进行排序

> sort 文件名

> comm 文件1 文件2

### csplit 切割指令

> csplit 一个长文件 300

表示把一个长文件在300行的位置切一刀，变成两个文件。

### ed 编辑器

按行来处理文件

> ed 文件名

回显文件总字符数量

这个时候按1，就可以显示第一行的字符。

按小写的i，就可以进入编辑模式

按点. 就可以进入命令模式

按w就可以保存并返回总的字符数量

按q退出。

这样来看，ed其实不是很方便，而且效率不高，但是ed也有他的价值，当你要编辑一个超大的文本，而使用常用的文本编辑器，比如vi或者emacs，这个时候就以为着，需要把整个文件一下子装到内存中，会把机器拖的速度较慢，而ed只读区一部分文件内容，这样就规避了这个问题。

### egrep 查找字符串指令

在制定的文件中查找制定的字符串，并切高亮显示

一般是：

> egrep -i ‘要查找的字符串’ 文件名

-i 表示忽略大小写

如果需要在多个文件中查找，可以后面接文件名，用空格隔开。

现在egrep已经使用的比较少了，可以用：

> grep -E	来代替egrep，这里面参数E是大写的。

### ex 单行编辑指令

功能相当于vi的单行显示

ex=vi -E

> ex /ect/fstab

回显行数和字符数

> ：2

显示下一行内容

> :3

再下行

功能与vi绑定一致。

### fgrep 查找指令

使用方法与egrep指令一致。

可以使用grep -F

### fmt 格式优化指令

> fmt -u 文件名称	压缩格式符号

### fold 指定宽度指令

> fold -w 20 文件名称

文件会以20个字符宽度为限显示。显示宽度换行显示并不表示有换行，而是仅以换行的方式显示而已。

### grep 关键字无引号 文件名称

grep支持正则表达式。

‘fs$’这个正则表示以fs结尾的字符串

### ispell检查拼写的指令

> ispell 文件名

后面会有交互说明，按数字，很简单。

### jed编辑指令

jed是一个编辑器，它可以模拟emacs等编辑器，支持语法高亮。

### joe编辑指令

有点类似emacs。

用于合并给定文件的相同字段。

先进行sort排序。

joe 文件1 文件2

把重复的字段（类似excel重复列）删除掉。

### look查找 指令

在使用look指令的时候要先对文件进行sort排序

> look 要查找的字符串 sort后的文件

look指令的另外一种用法，使用look指令可以查字典

> look hello

就可以查找到所有以hello开头的单词，并显示在屏幕上

### mtype指令

> mtype 文档名称

就可以显示文档中的数据，在图形界面后打开后，就可以看到显示的文档内容和mtype是一样的。

### pico文件编辑器

> pico 文本文件名称

### rgrep文件内容查找命令

罗列所有该目录机子目录下的文件内容中含有目标字符串的文件：

> rgrejp -r -H 查找的内容 文件路径

这里面的查找的内容用应该用单引号标注

这里面的文件路径可以是路径也可以是文件名称

这个指令可以用grep -R来代替。


### sed 流式编辑器

> sed -e ‘1d’ 文件名	删除文件第一行

> sed -e '1,4d' 文件名 删除文件1-4行

### sort 排序命令

> sort 文件名

这个命令是不改变原文件的内容的，如果我们需要保存到新的文件中

> sort -o 新的文件名 要排序的文件名

也可以使用重定向命令，直接把输出定向到一个文件中去

### spell 拼写检查指令

它与ispell指令的区别就是，它只能把错误输出，并不能帮助修改，这里面如果需要修改的话，可以使用ispell指令来对文件进行检查和修正，多了一个字母i也许就是inter的意思吧。

### tr 字符处理指令

> tr dev xyz < 文本文件

返回替换后的结果

> tr a-z A-Z < 文本文件

删除指定字符

> tr -d wang < 文本文件

这里面的对字符的操作都是以字符为单位的，不是以单词为单位的。

把字符串中的：换成换行符

> echo SPATH \
| tr ":" "\n"

### uniq去除文件中重复的行

> uniq 文本文件

这个命令指示把结果输出，如果要保存，可以使用重定向的方法把结果输出到文件

如果一个文件中，它有的行的内容是一样的，那就只显示一次，这就是这个命令的用途。

这里要求这个文件必须是sort有序的

> uniq -c

可以统计重复情况

### wc 统计字节数单词数指令

> wc 文本文件

回显 行数，单词数，字符数

单独显示行数的命令：

> wc -l


它支持管道的语法

比如：

> ps aux \| grep gnome \|wc -l

表示，查看进程，在进程中找到带有gnome字样的，然后查一下有多少行。

## 第二单元

### diff 指令

可以接两个文件的文件名，回显出不同的地方。经常用于bug的修复，打补丁等。

### diff stat的指令

统计diff 指令的输出结果

### file 文件类型指令

在Linux中文件的类型不是以后缀名在决定的，如果想知道文件的类型可以使用file命令。

> file 文件名称

### find 指令

按照一定的规则显示文件

> find ./ -name 文件名称 -exec rm -f {} \;

### git 指令

这里面老师懵逼了，没讲出来

### gitview指令

这个命令和vi有点像

> gitview -c 文件名称

表示以彩色的形式，显示文本

这个和git指令是在同一个软件包中的。

它的使用有点类似于vi的键绑定

如果要以单色模式来显示的话，就用gitview -b 文件名称

### ln链接指令

分为硬连接和软连接两种

硬连接，我们通常称之为“连接”；

软连接，我们通常称之为“符号连接”

ln命令缺省参数的情况下创建的连接为硬连接。如果要创建软连接可以使用参数 -s，

> ln 原文件 创建的连接的文件

创建的连接为硬连接，如果使用ls -i命令来查看的话，我们可以看到，实际上，创建出来的连接文件和原文件的索引节点是一样的。这就说名，他们都指向同一个硬盘位置。

改变任何一个文件的内容，另外一个文件的内容也会受到改变

> ln -s 原文件 创建的符号连接的文件

这里面穿件的是软连接或者符号连接，，通过ls -i我们可以看到，这两个文件没有必然联系，修改原文件，连接文件会改变，删除原文件，连接文件就失效了。

硬连接只能在同一个硬盘分区上创建，因为索引号在各个分区试自成体系的，
软连接没有这个限制，可以跨分区的。

硬连接只能是文件，不能是目录。软连接可以的。

### locate指令

locate 指令是基于数据库的，所以速度很快。但是需要及时使用指令updatedb，来更新数据库，保证数据库中的信息能够体现及时的路径结构。

与之不同的是，find是基于数据结构的，它会遍历所有的路径，所以效率低一些。但是优点在于，它不存在数据库更新不及时的问题。

每次执行updtedb指令的时候，它的时间都是挺长的。

### lsattr 显示文件拓展属性指令

> lsattr 文件名称

回显出文件的扩展属性

### mattrib 属性查看指令

对dos文件的属性进行查看和设置

> mattrib +/- r		添加／删除只读属性

### mc文件管理指令

调用并打开菜单式的文件管理程序

### m开头的windows指令

使用方法参考dos命令

### rmdir 删除空目录指令

rmdir是不能直接删除空目录的。

如果想删除所有的带文件的目录的话，可以使用rm -r

rmdir -p 可以删除类似这种a/b/c/d/e/f/g

他是先删除最深的目录，然后依次，当出现的目录不为空的时候，就停止删除了。这一点是rm -r不具备的功能。

### mshowfat

查看fat文件的属性

有点类似于ls -l

### mtools

查看支持的dos指令
，语法与dos指令相同。

### rev指令

对文件中的文字反序输出

> rev 文件名称

### paste 指令

> paste 第一个文件 第二个文件  > 新的合并的文件

通过输出重定向，就可以以列为单位把两个表单合并

有点类似于joe指令，但是它不删除重复项，而且也不需要对文件进行sort排序，事实上不可以进行sort排序，因为这样，原来的顺序就乱掉了。

joe命令之所以可以排序是因为joe的数据都对应有列头的，这样的文件类似excel中的vlookup，是不会乱掉了的，因为可以用列头⬅做匹配。

### patch 指令

patch文件通常是通过diff命令输出的文本

使用patch命令的时候通常需要讲patch文件拷贝的要打补丁的文件目录中

> patch -pl < patch文件

通过打补丁的方式可以实现文件的升级。

### rcp 远程拷贝指令

这个有点复杂需要配置。

### mv指令

略

### rm指令

略

### slocate 查找命令

我们只需给到关键词，就可以比较方便的查找到目录或者文件名中包含字符串的文件

回显出文件的路径的列表

它的使用方法和locate是一致的。

### split文件分割指令

将一个大的日志文件分割成一个个比较下的日志文件。

### tee 指令

将输出的内容保存到多个文件中

> cat /etc/fstab \| tee file1 file2 file3 file4

这样就把所有的文件都拷贝进了同样的cat回显出的内容了。

### touch指令

两个功能，创建新文件，还有一个功能就是改变文件的时间属性。

touch 可以批量创建文件名有逻辑联系的文件

> touch file{1,2,3,4,5,6,7,8,9}

### whereis 指令

定位二进制程序的位置

> whereis  ls 

另一个有类似的功能的是

> which ls

他们是基于PATH路径来查询的。

### cat 指令

> cat -s 文件名称

如果文件有多个连续空行，则压缩为一个空行。

### cmp比较指令

> cmp 文件1 文件2

可以比较任何文件，可以告诉你是否有不同，但是究竟怎么不同，不会显示。

diff命令可以比较出究竟哪里不同。

### cp复制命令

这个命令比较简单，就是cp 原文件 目标文件 就好了

这里特别说明的是cp 是可以复制目录的，需要添加一个参数 -r，才可以。

cp还有创建硬连接和符号连接的功能

> cp -l 原文件 连接文件	这个是硬连接

> cp -s 原文件 连接文件 这个是符号连接

### cut 删去文本确定列的指令

> cut -f 1 -d " " 文件名称

-f 1 表示第一个字段，f表示field，
-d “ ” 表示用空格隔开。

cut还可以基于字符数为一列

> cut -c -15 文件名

这里面-c表示count -15表示15个字符

## 第三单元

### ftp指令

内置很多指令

> ftp ftp.redhat.com

使用匿名登录红帽子系统的官方ftp服务器

> quit

退出

### ncftp指令

ncftp是ftp的增强版，增加了许多额外的功能。

### tftp指令

tftp也是ftp的工具之一

只要的功能就是put和get指令，主要的功能就是上传和下载。

## 第四单元

### ar压缩解压指令

> ar -v-r ‘目标文件’ 文件1 文件2 文件3		这个是压缩文件的命令

> ar -p 压缩的文件包 	   罗列压缩包里的文件内容

### gzip压缩指令

> gzip 文件名称

这样的话，原来的文件就没有了，取而代之的是压缩后的文件。

> gzip -z 压缩包的名称

对压缩包进行解压操作。

### gunzip指令

对已经压缩的文件进行解压缩

> gunzip 压缩文件名称

### bzip2 指令

对.bz2格式的压缩包进行管理

> bzip2 待压缩的文件

后缀是.bz2，原来的待压缩的文件被新生成的待压缩的文件取代了。

> bzip2 -d 压缩文件

就可以对已经压缩的文件进行解压缩。

### cpio指令

有三种操作模式

- copyout 把指定文件拷贝到归档包中
- copyin 读取和显示归档包中文件的内容
- copybus 在目录树中复制文件

经常用于文件的备份操作

> find /bin -print |cpio -o >bin.bak

### dump指令

假如要备份bin目录

> dump -f bin.bak /bin

回车之后会显示整个备份的过程。


### restore 指令

这个指令相当于dump的反命令

> restore bin.bak

### compress 指令

> compress 文件

得到文件的后缀名为.Z

### uncompress 指令

对文件进行解压

### zip指令

> zip 生成压缩包的名称 被压缩的文件

会生成.zip的压缩吧

### unzip

解压zip压缩包

> unzip 压缩包

### arj指令

> arj a 生成的压缩包 待压缩的文件1 文件2等等

> arj l 压缩包

显示压缩包中的文件清单。

### unarj 解压指令

### bzcat指令

在不解压的情况下，查看.bz2文件内容

> bzcat 压缩文件

### bzcomp压缩包比较指令

> bzcomp 压缩包1 压缩包2

就可以回显出这两个文件不同的地方

### bzdiff压缩包比较指令

> bzdiff 压缩包1 压缩包2

### bzgrep 行匹配搜索

> bzgrep 搜索字段 压缩文件

### bzip2recover恢复指令

尝试恢复bzip压缩包

### bzmore

与more使用命令相同，显示压缩包内的内容，回车显示下一行，空格显示下一屏。

### bzless

与bzmore很相似，功能更加强大。退出使用q退出

### zipinfo指令

显示zip压缩包的详细信息。

### zipsplit指令

可以将一个大的压缩包分割成若干个小的压缩包。

> zipsplit -n 600000 待分割的压缩文件

### znew压缩转换指令

将compress压缩的文件装换成gzip压缩的文件。
也就是说将.Z文件转换成.zip文件。

> znew 待转换文件.z

### zcat指令

在不打开zip文件的情况下，查看zip文件内容

### gzexe指令

压缩二进制文件，可以自解压的

> gzexe 文件名称

生成的压缩文件会替换掉原来的待压缩文件，待压缩文件会被通过改名为加～，备份起来。

### tar指令

原来最早是用在*nix系统的磁带机备份的，经过这这么多年的发展，tar指令已经功能很强大了。

创建打包文件：

> tar -cvf 生成文件名tar 要打包的文件或目录

v是现实打包过程；f指明生成的打包文件

释放归档文件：

> tar -xvf 待解压文件.tar

会解压释放压缩文件

tar命令还只是对压缩文件进行操作

> tar -czvf 压缩文件.tar.gz 待压缩文件或目录

> tar -xzvf 压缩文件.tar.gz

这些是比较基本的方法。

## 第五单元

### echo 指令

打印值

打印环境变量的值：

> echo $PATH

也可以直接打印字符串

> echo "hello $HOME" 

### alias 命令别名指令

> alias newcommand='command combination'

这是定义命令别名，如果想让他每次启动中端都有效，就可以写入配置文件。

### unalias 取消指令

这个指令可以取消系统中的命令别名

### jobs 指令

返回当前的任务列表

额外学习，如果一个命令执行的时间较长，可以把它放在后台来执行，只需要在执行命令后面连接一个&，表示把改任务转到后台来执行，通过jobs命令可以查看任务的执行情况。

> bg 任务号	可以把任务放到后台去运行，注意这里的任务一定是与用户没有交互的任务，否则不成功。

### fg 转前台指令

> fg 任务号	把一个问题提到前台来进行。

如果仅有一个后台任务，就不需要任务号。

### set 指令

set指令用于显示shell中已经定义的变量和对应的值，也可以修改已经存在的shell 变量。

> set 

查看已经存在的变量

unset 删除已经村子啊的变量

声明变量

> declare -x varl=‘linux’

> echo $varl

就可以显示linux

> unset varl

就取消了这个变量

### env 指令

在指定的环境执行指定的指令

> env -i /sbin/fidsk -l

或者

> env -i PATH=/sbin fdisk -l

### type 指令

用来确定一个指令是内部命令还是外部命令

> type 1. ls fdisk ps

可以返回这个四个命令的类型

### wait等待指令

> wait 8230 表示等待这个8230号进程执行结束，返回前台，也可以使用任务号：“%3”，这种表示3号任务。

### history 指令

显示历史命令列表，后面可以直接接数字，表示最近执行过的几条命令。

### read 指令

键盘读取变量的值

> read varl

或者

> read varl1 varl2 varl3

该命令会读取键盘的敲击的内容，给后面的变量赋值，敲击回车键表示一个变量赋值的结束，read指令可以同时给几个变量依次赋值，不同的变量和赋值可以用空格隔开。

### exec指令

调用其他脚本的命令

比如有一个脚本t.sh内容为

> exec -c ls

我们可以在终端执行：

> sh ./t.sh

就可以得到ls的结果。

### umask指令

取得新创建文件的权限掩码。

### shopt指令

显示和设置shell特性的选项

> shopt -s 选项变量名称 改变的目标值
> 
> shopt -s cdspell on

### help指令

显示shell内部命令的帮助信息

### builtin 指令

调用shell内部的指令

###  declare 声明指令

> declare a=“b”		声明一般变量
> 
> declare -r a=“b”	声明只读变量

注意，在已经有变量的情况的，可以通过给变量赋值来改变变量的值：

> a=b

### pushd和popd指令

压入和弹出目录堆栈。

### readonly 指令

用于定义只读变量或函数

> readonly varl1-123

这个时候再赋值是不起作用的

> readonly -p

显示所有只读变量的清单

### fc调用历史命令指令

用history可以查看历史命令，历史命令是有编号的，

> fc 编号		可以显示vi窗口对对应编号的命令进行编辑，:wq 退出。

编辑的命令即被执行。







## 第六单元
## 第七单元
## 第八单元
## 第九单元
## 第十单元
## 第十单元
## 第十一单元
## 第十二单元
## 第十三单元
## 第十四单元
## 第十五单元
## 第十六单元
## 第十七单元